<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Deals Sri Lanka</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom Colors: White Canvas Palette */
        :root {
            --color-black-pure: #000000;
            --color-white-pure: #FFFFFF;
            --color-light-grey: #E0E0E0;
            --color-dark-grey: #555555;
            --color-blue-accent: #007bff; /* Added for 'view more' link */
        }

        .bg-black-pure { background-color: var(--color-black-pure); }
        .text-black-pure { color: var(--color-black-pure); }
        .bg-white-pure { background-color: var(--color-white-pure); }
        .text-white-pure { color: var(--color-white-pure); }
        .border-light-grey { border-color: var(--color-light-grey); }
        .text-dark-grey { color: var(--color-dark-grey); }
        .text-blue-accent { color: var(--color-blue-accent); } /* Added */

        /* General Body Text - Default to pure black for readability on white background */
        body {
            font-family: 'Poppins', sans-serif;
            color: var(--color-black-pure);
            /* padding-top will be set by JavaScript dynamically */
            transition: padding-top 0.3s ease-in-out; /* Smooth transition for padding */
        }

        /* Fixed Header/Nav specific styles */
        .fixed-header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: var(--color-white-pure); /* Ensure background is white when shrinking */
            transition: all 0.3s ease-in-out; /* Smooth transitions for header changes */
            overflow: hidden; /* Hide overflowing content when shrinking */
        }

        .fixed-header header {
            background-color: var(--color-black-pure);
            transition: padding 0.3s ease-in-out; /* Smooth transition for header padding */
        }

        .fixed-header .main-nav {
            position: relative;
            top: auto;
            z-index: 999;
            transition: all 0.3s ease-in-out; /* Smooth transition for nav changes */
        }

        .fixed-header .header-content {
            transition: all 0.3s ease-in-out;
        }

        /* Default mobile header state - styles already in place */
        @media (max-width: 768px) {
            .fixed-header header {
                padding: 1rem;
            }

            .fixed-header .header-top {
                flex-direction: column;
                align-items: center;
            }

            .fixed-header .header-top > div {
                margin-bottom: 1rem;
            }

            .fixed-header .header-top input,
            .fixed-header .header-top button {
                width: 100%;
                margin-left: 0 !important;
                margin-right: 0 !important;
            }

            .fixed-header .sign-in-btn {
                margin-top: 1rem;
            }

            .fixed-header .main-nav {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            .fixed-header .main-nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }

            .fixed-header .main-nav ul li {
                margin-bottom: 0.5rem;
            }
        }

        /* --- Scrolled State for Mobile --- */
        @media (max-width: 768px) {
            .fixed-header.header-scrolled {
                height: auto;
                min-height: 60px; /* Minimum height for the entire fixed-header */
            }

            .fixed-header.header-scrolled header {
                padding: 0.5rem 1rem;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
                height: 60px;
            }

            .fixed-header.header-scrolled .header-top .text-2xl {
                font-size: 1.5rem;
                margin-bottom: 0;
            }

            .fixed-header.header-scrolled .header-top .relative,
            .fixed-header.header-scrolled .header-top #searchButton,
            .fixed-header.header-scrolled .header-top .sign-in-btn {
                opacity: 0;
                height: 0;
                padding: 0;
                margin: 0;
                visibility: hidden;
                pointer-events: none;
                transition: all 0.2s ease-in-out;
            }

            .fixed-header.header-scrolled .main-nav {
                height: 0;
                padding: 0;
                visibility: hidden;
                opacity: 0;
                pointer-events: none;
            }

            body.header-scrolled {
                padding-top: 60px !important; /* Important to override dynamic setting */
            }
        }


        /* Custom style for the grid container to ensure responsiveness */
        .deal-grid {
            display: grid;
            gap: 1.5rem; /* Gap between grid items (promotion cards) */
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        @media (min-width: 768px) {
            .deal-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1200px) {
            .deal-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .category-title {
            grid-column: 1 / -1;
        }

        .restaurant-section h2 {
            display: none;
        }

        /* --- Hover/Focus Effects --- */
        .transition-all-ease {
            transition: all 0.3s ease-in-out;
        }

        /* Card for individual promotions or summary cards */
        .promo-card {
            cursor: pointer;
            border-radius: 0.5rem;
            border: 1px solid var(--color-light-grey);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease-in-out;
        }
        .promo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border-color: var(--color-black-pure);
        }

        /* Specific style for "view more" link within summary card */
        .view-more-link {
            display: inline-block;
            margin-top: 0.5rem;
            font-weight: 600;
            color: var(--color-blue-accent);
            text-decoration: underline;
        }
        .view-more-link:hover {
            color: var(--color-black-pure);
        }

        .main-nav ul li a:hover {
            color: var(--color-black-pure);
            background-color: var(--color-light-grey);
            padding-left: 0.75rem;
            padding-right: 0.75rem;
            border-radius: 0.25rem;
        }

        #searchButton:hover,
        .sign-in-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            opacity: 0.9;
        }

        #dealSearch:focus {
            outline: none;
            border-color: var(--color-black-pure);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="bg-white-pure">
    <div class="fixed-header">
        <header class="bg-black-pure text-white-pure p-4 shadow-md">
            <div class="container mx-auto flex flex-col md:flex-row items-center justify-between header-top">
                <div class="text-2xl font-bold mb-4 md:mb-0">Daily Deals Sri Lanka</div>
                <div class="relative w-full md:w-1/3">
                    <input type="text" id="dealSearch" placeholder="Search for deals..."
                           class="w-full p-2 pl-10 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 text-black-pure">
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="20" height="20">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
                <button id="searchButton" class="bg-blue-accent text-white-pure px-4 py-2 rounded-lg ml-0 md:ml-4 mt-4 md:mt-0 transition-all-ease">Search</button>
                <button class="sign-in-btn bg-dark-grey text-white-pure px-4 py-2 rounded-lg ml-0 md:ml-4 mt-4 md:mt-0 transition-all-ease">Sign In</button>
            </div>
        </header>

        <nav class="main-nav bg-white-pure border-b border-light-grey shadow-sm">
            <div class="container mx-auto py-2 flex justify-center">
                <ul class="flex flex-wrap justify-center space-x-4 md:space-x-8 text-black-pure font-medium">
                    <li><a href="#" class="px-3 py-2 rounded-lg transition-all-ease category-link" data-category="all">All Deals</a></li>
                    <li><a href="#" class="px-3 py-2 rounded-lg transition-all-ease category-link" data-category="food">Food</a></li>
                    <li><a href="#" class="px-3 py-2 rounded-lg transition-all-ease category-link" data-category="fashion">Fashion</a></li>
                    <li><a href="#" class="px-3 py-2 rounded-lg transition-all-ease category-link" data-category="electronics">Electronics</a></li>
                    <li><a href="#" class="px-3 py-2 rounded-lg transition-all-ease category-link" data-category="travel">Travel</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <main class="container mx-auto p-4 md:p-6">
        <section id="promotions-list" class="space-y-8">
            </section>
    </main>

    <footer class="bg-black-pure text-white-pure p-6 text-center mt-8">
        <p>&copy; 2025 Daily Deals Sri Lanka. All rights reserved.</p>
    </footer>

    <script>
        const promotionsData = [
            {
                "shopId": "pizza-hut",
                "shopName": "Pizza Hut",
                "logo": "./images/pizza hut.png",
                "category": "food",
                "mainPromoTitle": "Hot Pizza Deals!",
                "promotions": [
                    {
                        "id": "pizza-hut-bogo",
                        "title": "Cyber Saving Offer 1",
                        "description": "1x Large Pan Pizza + 1x Medium Pan Pizza + 1x Jumbo Coke JUST FOR 4600/=",
                        "validity": "Until July 31st, 2025",
                        "terms": "Purchased Pizzas Should Be From The Delight/Classic/Signature Range.",
                        "url": "https://www.pizzahut.lk/menu/promo/meal-deal/cyber-savings-1-june-2025"
                    },
                    {
                        "id": "pizza-hut-weekend-combo",
                        "title": "Cyber Saving Offer 2",
                        "description": "1x Medium Pan Pizza + 1x Personal Pan Pizza + 2x Pet Cokes JUST FOR 2500/=",
                        "validity": "Until July 31st, 2025",
                        "terms": "Purchased Pizzas Should Be From The Delight/Classic/Signature Range.",
                        "url": "https://www.pizzahut.lk/menu/promo/meal-deal/cyber-savings-2-june-2025"
                    },
                    {
                        "id": "Pizza Hut DON'T COOK TUESDAY!",
                        "title": "Pizza Hut DON'T COOK TUESDAY!",
                        "description": "Buy 1 Classic or above range Large Pan Pizza and get 1 FREE Delight Large Pan Pizza.",
                        "validity": "Only on Tuesdays",
                        "terms": "Available at all outlets. Check website for details.",
                        "url": "https://www.pizzahut.lk/menu/promo/meal-deal"
                    }
                ]
            },
            {
                "shopId": "kfc",
                "shopName": "KFC",
                "logo": "./images/KFC.png",
                "category": "food",
                "mainPromoTitle": "Finger Lickin' Good Deals",
                "promotions": [
                    {
                        "id": "Life Time Offer",
                        "title": "Life Time Offer",
                        "description": "20% OFF on every Purchase over 2500/= ",
                        "validity": "Life Time Offer",
                        "terms": "Cargills Credit Or Debit Card Holders",
                        "terms2":"Valid Only For Dine In and Take Away",
                        "url": "https://www.cargillsbank.com/wp-content/uploads/2018/04/KFC-Apr-2025-2.jpg"
                    },
                    {
                        "id": "Ultimate Combo 1",
                        "title": "Ultimate Combo 1",
                        "description": "4x Crispy Burgers + 8 Drumlets + 1.5L Pepsi Â JUST FOR 2990/=.",
                        "validity": "28th and 29th July",
                        "terms": "Limited time offer.",
                        "url": "https://www.kfc.lk/menu/promotions/promtn--others"
                    },
                    {
                        "id": "Ultimate Combo 2",
                        "title": "Ultimate Combo 2",
                        "description": "2x Crispy Burgers + 4 Drumlets + 400ml Pepsi Â JUST FOR 1590/=",
                        "validity": "28th and 29th July",
                        "terms": "Limited time offer.",
                        "url": "https://www.kfc.lk/menu/promotions/promtn--others"
                    },
                    {
                        "id": "kfc-wednesday",
                        "title": "Wednesday Treats",
                        "description": "8PC H&B BKT + 6PC DRUMLETS & 2 PILLAF RICE Â JUST FOR 3990/=",
                        "validity": "Every Wednesday",
                        "terms": "",
                        "url": "https://www.kfc.lk/menu/promotions/promtn--others"
                    },
                    {
                        "id": "kfc-Cheesed Kottu",
                        "title": "KFC Cheesed Kottu",
                        "description": "Buy 1x KFC Cheese Kottu and Get One Chicken PC FREE!",
                        "validity": "Valid Only in Selected Outlets",
                        "terms": "",
                        "url": "https://www.kfc.lk/menu/promotions/promtn--others"
                    }

                ]
            },
            {
                "shopId": "land-of-kings",
                "shopName": "Land of Kings",
                "logo": "./images/lano of kings.png",
                "category": "food",
                "mainPromoTitle": "Exclusive Deals from Land of Kings!",
                "promotions": [
                    {
                        "id": "land-of-kings-couple",
                        "title": "Couple Offer : Just For 2590/=",
                        "description": "1x Chicken Kottu Small + 1x chicken Fried rice + 1x Omelete + 2x Pepsi.",
                        "validity": "Valid till 31st of July",
                        "terms": "Only for Gay CouplesðŸ§",
                        "url": "https://landofkingscafe.com/product/couple-offer/"
                    },
                    {
                        "id": "land-of-kings-family",
                        "title": "Chicken Burger Offer",
                        "description": "2x Single Chicken Burger + 2x Pepsi 250ml Â  Just for 2590/=",
                        "validity": "Valid till 31st of July",
                        "terms": "T&C apply.",
                        "url": "https://landofkingscafe.com/product/burger-offer/"
                    },
                    {
                        "id": "land-of-kings-family",
                        "title": "Rice & Noodles Offer",
                        "description": "Chicken Fried Rice Large x 1 + Chicken Noodles Large x 1 + Devilled Chicken x 1 + Omelet x 1 + Pepsi x 1L",
                        "validity": "Valid till 31st of July",
                        "terms": "T&C apply.",
                        "url": "https://landofkingscafe.com/product/rice-noodles-offer/"
                    },
                    {
                        "id": "land-of-kings-family",
                        "title": "Family Feast Combo",
                        "description": "Large portions for 4-5 people, includes rice, curries, and drinks.",
                        "validity": "Valid till 31st of July",
                        "terms": "T&C apply.",
                        "url": "https://landofkingscafe.com/product/family-offer/"
                    },
                    {
                        "id": "land-of-kings-family",
                        "title": "Family Feast Combo",
                        "description": "Large portions for 4-5 people, includes rice, curries, and drinks.",
                        "validity": "Valid till 31st of July",
                        "terms": "T&C apply.",
                        "url": "https://landofkingscafe.com/product/family-deal/"
                    }
                ]
            },
            {
                "shopId": "taco-bell",
                "shopName": "Taco Bell",
                "logo": "./images/taco bell.png",
                "category": "food",
                "mainPromoTitle": "Taco Deals!",
                "promotions": [
                    {
                        "id": "taco-bell-tuesday",
                        "title": "Bowlâ€™d and Beautiful with the Rice Bowl",
                        "description": "Buy 2 for just Rs. 990. (Save upto Rs.1100) or Buy 1 for just Rs. 550. (Save upto Rs.500)",
                        "validity": "Only Today (30th July)",
                        "terms": "Exclusively for Dine-In. Takeaway available for an additional charge of Rs. 100 per bowl.",
                        "url": "https://www.facebook.com/tacobellsrilanka/"
                    },
                    {
                        "id": "taco-bell-combo",
                        "title": "Taco Rush at Taco Bell! Get 50% OFF your total bill!",
                        "description": "Minimum bill value after discount should be Rs.1000",
                        "validity": "Only on Sundays from 3pm to 9pm",
                        "terms": "Available Dine-in | Takeaway",
                        "url": "https://www.facebook.com/tacobellsrilanka/"
                    }
                ]
            },
            {
                "shopId": "subway",
                "shopName": "Subway",
                "logo": "./images/subway.png",
                "category": "food",
                "mainPromoTitle": "Fresh Subs Daily",
                "promotions": [
                    {
                        "id": "Uber Eats Deals",
                        "title": "Buy 1 Get 1 Free",
                        "description": "Buy any sub and get another sub of equal or lesser value free.",
                        "validity": "Ongoing offer",
                        "terms": "Uber Eats and Pickme orders only.",
                        "url": "https://www.facebook.com/SubwaySLanka/"
                    },
                    {
                        "id": "subway-no-offers",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Subway outlet for the latest offers or call 0115 730 101.",
                        "validity": "Valid until July 31st, 2025",
                        "url": "https://www.facebook.com/SubwaySLanka/"
                    }
                ]
            },

            {
                "shopId": "burger-king",
                "shopName": "Burger King",
                "logo": "./images/bk.png",
                "category": "food",
                "mainPromoTitle": "King-Sized Savings!",
                "promotions": [
                    {
                        "id": "burger-king-Epic Combos",
                        "title": "Epic Combos",
                        "description": "4x Chili Chicken Cheese Burgers + 2x Small Fries + 4x Regular Drinks + 2x Lawa Cakes for Rs.3140",
                        "validity": "Everyday",
                        "terms": "T&C apply.",
                        "url": "https://burgerking.lk/"
                    },
                    {
                        "id": "burger-king-Epic-Combos",
                        "title": "Epic Combos",
                        "description": "4x Spicy Chicken Burgers + 4x Small Fries + 4x Regular Drinks + 2x Lawa Cakes for Rs.4040",
                        "validity": "Daily, until 11 AM",
                        "terms": "T&C apply.",
                        "url": "https://burgerking.lk/"
                    }
                ]
            },
            {
                "shopId": "popeyes",
                "shopName": "Popeyes",
                "logo": "./images/Popeyes.png",
                "category": "food",
                "mainPromoTitle": "Louisiana Fried Chicken Feast",
                "promotions": [
                    {
                        "id": "Sunday Funday",
                        "title": "Sunday Funday",
                        "description": "20% OFF for Softlogic One Loyality Customers.",
                        "validity": "Every Sunday",
                        "terms": "T&C apply.",
                        "url": "https://popeyes.com.lk/"
                    },
                    {
                        "id": "Spicy Double Dealr",
                        "title": "Buy One Get One Free",
                        "description": "Buy 1 Chicken Burger and get 1 free.",
                        "validity": "Every Tuesday",
                        "terms": "T&C apply.",
                        "url": "https://popeyes.com.lk/"
                    },
                    {
                        "id": "Double Delight",
                        "title": "Double Delight - 2x For Rs.950",
                        "description": "2x Poppy Chicken Burgers Or 2x Totilla Chicken Wraps",
                        "validity": "Limited time offer",
                        "terms": "T&C apply",
                        "url": "https://popeyes.com.lk/"
                    }
                ]
            },
            {
                "shopId": "dominos-pizza",
                "shopName": "Domino's Pizza",
                "logo": "./images/dominos.png",
                "category": "food",
                "mainPromoTitle": "Every Day Value Deals!",
                "promotions": [
                    {
                        "id": "dominos-edv",
                        "title": "Every Day Value (EDV) Deals",
                        "description": "Buy 2 Large Pan Pizzas and Save upto Rs.2000",
                        "validity": "Ongoing",
                        "terms": "Check website for details.",
                        "url": "https://www.dominos.lk/edv"
                    },
                    {
                        "id": "dominos-edv",
                        "title": "Every Day Value (EDV) Deals",
                        "description": "Buy 2 Medium Pan Pizzas and Save upto Rs.1000",
                        "validity": "Ongoing",
                        "terms": "Check website for details.",
                        "url": "https://m.dominoslk.com/edv"
                    }
                ]
            },

            {
                "shopId": "chinese-dragon-cafe",
                "shopName": "Chinese Dragon Cafe",
                "logo": "./images/chinese dragon.png",
                "category": "food",
                "mainPromoTitle": "Special Offers at Chinese Dragon Cafe",
                "promotions": [
                    {
                        "id": "chinese-dragon-cyber",
                        "title": "Dragon Cyber Deal: Order Now!!",
                        "description": "50% off on Shanghai Chicken rice",
                        "validity": "Valid till 31st of July",
                        "terms": "Valid only for online orders.",
                        "url": "https://www.chinesedragoncafe.com/pages/promotions"
                    }
                ]
            },
            {
                "shopId": "burleys",
                "shopName": "Burleys",
                "logo": "./images/burleys_logo.png",
                "category": "food",
                "mainPromoTitle": "BBQ & More at Burleys",
                "promotions": [
                    {
                        "id": "burleys-bbq-night",
                        "title": "BBQ Night Specials",
                        "description": "Indulge in delicious BBQ platters every weekend.",
                        "validity": "Friday & Saturday nights",
                        "terms": "Reservations recommended.",
                        "url": "https://www.facebook.com/burleysfoods/"
                    }
                ]
            },
            {
                "shopId": "vitos-pizza",
                "shopName": "Vito's Pizza",
                "logo": "./images/vitos pizza.png",
                "category": "food",
                "mainPromoTitle": "Weekend Family Pizza Deals",
                "promotions": [
                    {
                        "id": "vitos-family",
                        "title": "No Offers",
                        "description": "No Offers",
                        "validity": "Visit Our Site ",
                        "url": "https://www.vitopizza.lk/menu.php"
                    }
                ]
            },
            {
                "shopId": "almas-restaurant",
                "shopName": "Almas Restaurant",
                "logo": "./images/almas_restaurant_logo.png",
                "category": "food",
                "mainPromoTitle": "Authentic Dining Experience",
                "promotions": [
                    {
                        "id": "almas-restaurant-family",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Al-Maas Restaurant for the latest offers or call 0114 344 303.",
                        "validity": "11 am to 12 pm daily",
                        "terms": "T&C apply",
                        "url": "https://almaas.lk/"
                    }
                ]
            },
            {
                "shopId": "elite-indian",
                "shopName": "Elite Indian",
                "logo": "./images/elite_indian_logo.png",
                "category": "food",
                "mainPromoTitle": "Experience True Indian Flavors",
                "promotions": [
                    {
                        "id": "elite-indian-special",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Elite Indian Restaurant for the latest offers or call 0112 552 882.",
                        "validity": "11 am to 12 pm daily",
                        "terms": "T&C apply",
                        "url": "https://www.facebook.com/elitebambalapiti/"
                    }
                ]
            },
            {
                "shopId": "odel",
                "shopName": "Odel",
                "logo": "./images/aodel.png",
                "category": "fashion",
                "mainPromoTitle": "Your Fashion Destination",
                "promotions": [
                    {
                        "id": "odel-seasonal",
                        "title": "Seasonal Sale",
                        "description": "Up to 30% off on selected fashion and accessories.",
                        "validity": "August 1st - 15th, 2025",
                        "terms": "In-store and online. Terms and conditions apply.",
                        "url": "https://www.odel.lk/"
                    },
                    {
                        "id": "odel-new-arrivals",
                        "title": "New Arrivals Discount",
                        "description": "10% off on all new collection items.",
                        "validity": "Starts Aug 1, 2025",
                        "terms": "Valid for loyalty members.",
                        "url": "https://www.odel.lk/new-arrivals"
                    }
                ]
            },
            {
                "shopId": "nolimit",
                "shopName": "NoLimit",
                "logo": "./images/anolimit.png",
                "category": "fashion",
                "mainPromoTitle": "Fashion Unlimited",
                "promotions": [
                    {
                        "id": "nolimit-new-collection",
                        "title": "New Collection Discount",
                        "description": "15% off on all new arrivals for loyalty members.",
                        "validity": "Entire month of August 2025",
                        "terms": "Show loyalty card at checkout.",
                        "url": "https://nolimit.lk/"
                    }
                ]
            },
            {
                "shopId": "mimosa",
                "shopName": "Mimosa",
                "logo": "./images/amimosa.png",
                "category": "fashion",
                "mainPromoTitle": "Kids & School Wear Offers",
                "promotions": [
                    {
                        "id": "mimosa-back-to-school",
                        "title": "Back to School Offers",
                        "description": "Special discounts on kids' wear and school uniforms.",
                        "validity": "Until August 31st, 2025",
                        "terms": "Selected items only.",
                        "url": "https://mimosaclothingindia.com/"
                    }
                ]
            },
            {
                "shopId": "kelly-felder",
                "shopName": "Kelly Felder",
                "logo": "./images/akelly felder.png",
                "category": "fashion",
                "mainPromoTitle": "Shop Online & Save!",
                "promotions": [
                    {
                        "id": "kelly-felder-online",
                        "title": "Exclusive Online Discount",
                        "description": "20% off your first online order. Use code: KF2025.",
                        "validity": "Ongoing online offer",
                        "terms": "New customers only. Excludes sale items.",
                        "url": "https://kellyfelder.com/"
                    }
                ]
            },
            {
                "shopId": "fashion-bug",
                "shopName": "Fashion Bug",
                "logo": "./images/afashion bug.png",
                "category": "fashion",
                "mainPromoTitle": "Mega Clearance Sale!",
                "promotions": [
                    {
                        "id": "fashion-bug-clearance",
                        "title": "Mega Clearance Sale",
                        "description": "Up to 50% off on men's, women's, and kids' clothing.",
                        "validity": "While stocks last",
                        "terms": "All outlets participating.",
                        "url": "https://fashionbug.lk/"
                    }
                ]
            },
            {
                "shopId": "cool-planet",
                "shopName": "Cool Planet",
                "logo": "./images/acool planet.png",
                "category": "fashion",
                "mainPromoTitle": "Mid-Season Fashion & More",
                "promotions": [
                    {
                        "id": "cool-planet-mid-season",
                        "title": "Mid-Season Extravaganza",
                        "description": "Great deals on casual wear and accessories.",
                        "validity": "Until end of July 2025",
                        "terms": "Selected items.",
                        "url": "https://www.coolplanet.lk/"
                    },
                    {
                        "id": "cool-planet-kids",
                        "title": "Kids' Collection Offer",
                        "description": "Buy 2 get 1 free on kids' apparel.",
                        "validity": "July 2025",
                        "terms": "In-store only.",
                        "url": "https://www.coolplanet.lk/kids"
                    }
                ]
            },
            {
                "shopId": "thilakawardhana-textiles",
                "shopName": "Thilakawardhana Textiles",
                "logo": "./images/athilaka.png",
                "category": "fashion",
                "mainPromoTitle": "Your Occasion Wear Specialist",
                "promotions": [
                    {
                        "id": "thilakawardhana-wedding",
                        "title": "Wedding & Occasion Wear Discounts",
                        "description": "Special prices on sarees, national wear, and formal attire.",
                        "validity": "Limited period",
                        "terms": "Visit showroom for details.",
                        "url": "https://thilakawardhana.com/"
                    }
                ]
            },
            {
                "shopId": "big-plate",
                "shopName": "Big Plate",
                "logo": "./images/big_plate_logo.png",
                "category": "food",
                "mainPromoTitle": "Hearty Meals at Big Plate!",
                "promotions": [
                    {
                        "id": "big-plate-express-lunch",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Big Plate Restaurant for the latest offers or call 077 779 9400.",
                        "validity": "11 am to 12 pm daily",
                        "terms": "T&C apply",
                        "url": "https://www.facebook.com/Bigplatelk/"
                    }
                ]
            },
            {
                "shopId": "street-burger",
                "shopName": "Street Burger",
                "logo": "./images/street_burger_logo.png",
                "category": "food",
                "mainPromoTitle": "Burgers on the Go!",
                "promotions": [
                    {
                        "id": "street-burger-value",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Street Burger Restaurant for the latest offers or call 0112 548 548.",
                        "validity": "All day, every day",
                        "terms": "T&C apply",
                        "url": "https://streetburger.lk/"
                    }
                ]
            },
            {
                "shopId": "la-luna",
                "shopName": "La Luna",
                "logo": "./images/la_luna_logo.png",
                "category": "food",
                "mainPromoTitle": "Cafe Delights at La Luna",
                "promotions": [
                    {
                        "id": "la-luna-cafe-offer",
                        "title": "No Offers",
                        "description": "Please Visit the nearest Al-Maas Restaurant for the latest offers or call 0114 344 303.",
                        "validity": "11 am to 12 pm daily",
                        "terms": "T&C apply",
                        "url": "https://www.facebook.com/lalunacolombo/"
                    }
                ]
            },
            {
                "shopId": "mc-donalds",
                "shopName": "McDonald's",
                "logo": "./images/mcdonalds_logo.png",
                "category": "food",
                "mainPromoTitle": "Family Fun with McDonald's!",
                "promotions": [
                    {
                        "id": "mc-donalds-happy-meal",
                        "title": "Error 404",
                        "description": "This Franchise is not available in Sri Lanka.",
                        "validity": "Not Applicable",
                        "terms": "Not Applicable",
                        "url": "https://www.mcdonalds.com/us/en-us.html"
                    }
                ]
            },

            {
                "shopId": "up-down-kandy",
                "shopName": "Up Down Kandy",
                "logo": "./images/up_down_kandy_logo.png",
                "category": "fashion",
                "mainPromoTitle": "New Fashion in Kandy Style!",
                "promotions": [
                    {
                        "id": "up-down-kandy-style",
                        "title": "New Arrivals Discount",
                        "description": "Be the first to get 10% off on our latest fashion collection.",
                        "validity": "Limited time",
                        "terms": "Selected items only. In-store only.",
                        "url": "https://uptownsrilanka.com/"
                    }
                ]
            },
            {
                "shopId": "zigzag",
                "shopName": "Zig Zag",
                "logo": "./images/zigzag_logo.png",
                "category": "fashion",
                "mainPromoTitle": "Exclusive Online Fashion",
                "promotions": [
                    {
                        "id": "zigzag-online-exclusive",
                        "title": "Online Exclusive Offers",
                        "description": "Special discounts only available for online purchases.",
                        "validity": "Ongoing online",
                        "terms": "Applies to non-sale items.",
                        "url": "https://zigzag.lk/"
                    }
                ]
            },
            {
                "shopId": "adidas",
                "shopName": "Adidas",
                "logo": "./images/adidas_logo.png",
                "category": "fashion",
                "mainPromoTitle": "Adidas Sportswear Deals!",
                "promotions": [
                    {
                        "id": "adidas-sportswear-sale",
                        "title": "Sportswear Clearance",
                        "description": "Huge savings on performance wear, shoes, and accessories.",
                        "validity": "While stocks last",
                        "terms": "Selected models and sizes.",
                        "url": "https://odel.lk/adidas/br/189"
                    }
                ]
            }
        ];

        const promotionsList = document.getElementById('promotions-list');
        const categoryLinks = document.querySelectorAll('.category-link');
        const dealSearchInput = document.getElementById('dealSearch');
        const searchButton = document.getElementById('searchButton');
        const fixedHeader = document.querySelector('.fixed-header');
        const body = document.body;
        const mainNav = document.querySelector('.main-nav');

        let lastScrollTop = 0;

        function setBodyPadding() {
            // Get the current computed height of the fixed header
            const headerHeight = fixedHeader.offsetHeight;
            // Apply this height as padding to the body
            body.style.paddingTop = `${headerHeight}px`;
        }

        function renderPromotions(filteredPromotions) {
            promotionsList.innerHTML = ''; // Clear previous content

            // Group promotions by category for display
            const categories = {};
            filteredPromotions.forEach(shop => {
                if (!categories[shop.category]) {
                    categories[shop.category] = [];
                }
                categories[shop.category].push(shop);
            });

            for (const category in categories) {
                const categorySection = document.createElement('div');
                categorySection.className = 'category-section mb-8';

                const categoryTitle = document.createElement('h2');
                categoryTitle.className = 'text-3xl font-bold mb-6 capitalize category-title';
                categoryTitle.textContent = `${category} Deals`;
                categorySection.appendChild(categoryTitle);

                const dealGrid = document.createElement('div');
                dealGrid.className = 'deal-grid';

                categories[category].forEach(shop => {
                    const promoCard = document.createElement('div');
                    promoCard.className = 'promo-card bg-white-pure p-6 rounded-lg shadow-md transition-all-ease flex flex-col items-center text-center';
                    promoCard.innerHTML = `
                        <img src="${shop.logo}" alt="${shop.shopName} Logo" class="w-24 h-24 object-contain mb-4">
                        <h3 class="text-xl font-semibold mb-2">${shop.shopName}</h3>
                        <p class="text-dark-grey text-lg mb-4">${shop.mainPromoTitle}</p>
                        <a href="outlet-promotions.html?shopId=${shop.shopId}" class="view-more-link">View More Deals</a>
                    `;
                    dealGrid.appendChild(promoCard);
                });
                categorySection.appendChild(dealGrid);
                promotionsList.appendChild(categorySection);
            }
        }

        function filterAndRender() {
            const searchTerm = dealSearchInput.value.toLowerCase();
            const activeCategory = document.querySelector('.category-link.bg-light-grey')?.dataset.category || 'all';

            const filtered = promotionsData.filter(shop => {
                const matchesSearch = searchTerm === '' ||
                                      shop.shopName.toLowerCase().includes(searchTerm) ||
                                      shop.mainPromoTitle.toLowerCase().includes(searchTerm) ||
                                      shop.promotions.some(promo =>
                                          promo.title.toLowerCase().includes(searchTerm) ||
                                          promo.description.toLowerCase().includes(searchTerm)
                                      );

                const matchesCategory = activeCategory === 'all' || shop.category === activeCategory;

                return matchesSearch && matchesCategory;
            });
            renderPromotions(filtered);
        }

        function handleScroll() {
            const currentScrollTop = window.scrollY || document.documentElement.scrollTop;
            const isMobile = window.matchMedia("(max-width: 768px)").matches;

            if (isMobile) {
                if (currentScrollTop > lastScrollTop && currentScrollTop > 100) { // Scrolling down and past initial threshold
                    fixedHeader.classList.add('header-scrolled');
                    body.classList.add('header-scrolled');
                } else if (currentScrollTop < lastScrollTop || currentScrollTop < 100) { // Scrolling up or near top
                    fixedHeader.classList.remove('header-scrolled');
                    body.classList.remove('header-scrolled');
                }
            } else {
                // For desktop, ensure scrolled class is not applied
                fixedHeader.classList.remove('header-scrolled');
                body.classList.remove('header-scrolled');
                // Ensure padding is correct for desktop as well
                setBodyPadding();
            }
            lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop;
        }


        // Event Listeners
        categoryLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                categoryLinks.forEach(l => l.classList.remove('bg-light-grey'));
                e.target.classList.add('bg-light-grey');
                filterAndRender();
            });
        });

        searchButton.addEventListener('click', filterAndRender);
        dealSearchInput.addEventListener('keyup', (e) => {
            if (e.key === 'Enter') {
                filterAndRender();
            }
        });

        window.addEventListener('scroll', handleScroll);
        // Call on resize to adjust padding-top if switching between mobile/desktop views or reorienting
        window.addEventListener('resize', () => {
            setBodyPadding(); // Recalculate and set padding
            handleScroll(); // Adjust header state if needed
        });


        // Initial render on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Set 'All Deals' as active by default
            document.querySelector('.category-link[data-category="all"]').classList.add('bg-light-grey');
            renderPromotions(promotionsData);
            setBodyPadding(); // Set initial padding after content load
            handleScroll(); // Call once on load to set initial state based on scroll position
        });
    </script>
</body>
</html>